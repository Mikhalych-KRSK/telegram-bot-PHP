<?php

# –ü—Ä–∏–Ω–∏–º–∞–µ–º –∑–∞–ø—Ä–æ—Å
$data = json_decode(file_get_contents('php://input'), TRUE);
file_put_contents('file.txt', '$data: '.print_r($data, 1)."\n", FILE_APPEND);

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ –∏–ª–∏ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É
$data = $data['callback_query'] ? $data['callback_query'] : $data['message'];

# –í–∞–∂–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
define('TOKEN', '***'); //–≤–º–µ—Å—Ç–æ * –≤–ø–∏—Å—ã–≤–∞—Ç—å —Ç–æ–∫–µ–Ω

# –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$message = mb_strtolower(($data['text'] ? $data['text'] : $data['data']),'utf-8');

# –†–∞–Ω–¥–æ–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
$arr = array( "a"=>"–•–∞ —Ö–∞, –ª–∞–¥–Ω–æ", "b"=>"–ù–µ –∑–Ω–∞—é —á—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç—å...", "c"=>"–•–º–º ü§î", "d"=>"–¢—ã —Ç–æ—á–Ω–æ —ç—Ç–æ —Ö–æ—Ç–µ–ª —Å–ø—Ä–æ—Å–∏—Ç—å?" );
shuffle($arr);


# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
switch ($message)
{

    case '/start':
        $method = 'sendMessage';
        $send_data = [
            'text'   => '–ë–æ—Ç-–∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω ü§ñ' . "\n" . '–û —á—ë–º —Ö–æ—á–µ—à—å —Å–ø—Ä–æ—Å–∏—Ç—å?',
            'reply_markup' => [
                'resize_keyboard' => true,
                'keyboard' => [
                    [
                        ['text' => '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏'],
                        ['text' => '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –®–ò'],
                    ],
                    [
                        ['text' => '–õ–µ—Ç–Ω–∏–µ –ª–∞–≥–µ—Ä—è'],
                        ['text' => '–°—Å—ã–ª–∫–∏'],
                    ],
                    [
                        ['text' => '–õ–µ—Ç–Ω–∏–µ —Å–º–µ–Ω—ã 2023'],
                        ['text' => '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –®–ò'],
                    ]
                ]             
            ]
        ];
        break;


    case '—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏':
        $method = 'sendMessage';
        $send_data = [
            'text'   => '–ö–∞–∫–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ö–æ—á–µ—à—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å? üì∑',
            'reply_markup' => [
                'resize_keyboard' => true,
                'inline_keyboard' => [
                    [
                        ['text' => '–° –ª–∞–≥–µ—Ä–µ–π', 'url' => 'https://vk.com/albums-218902111'],
                        ['text' => '–° –æ–±—É—á–µ–Ω–∏—è –®–ò', 'url' => 'https://vk.com/albums-138551511']
                    ]         
                ],
            ]
        ];
        break;

    case '—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —à–∏':
        $method = 'sendPhoto';
        $send_data = [
            'photo' => 'https://persik-krsk.ru/photo/apr.jpg',
            'caption' => '–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–º–æ—Ç—Ä–∏–º –∏ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–Ω—è—Ç–∏—è üòâ' . "\n\n" .
            '–ë–ª–∏–∂–∞–π—à–∏–µ –≤—ã–µ–∑–¥—ã: –ª–∞–≥–µ—Ä—å "–ö—Ä–µ–ø–∫–∏–π –û—Ä–µ—à–µ–∫" 5 –º–∞—è - 9 –º–∞—è'
        ];
        break;

    case '–ª–µ—Ç–Ω–∏–µ –ª–∞–≥–µ—Ä—è':
        $method = 'sendMessage';
        $send_data = [
            'text' => '¬´<b>–ö—Ä–µ–ø–∫–∏–π –û—Ä–µ—à–µ–∫</b>¬ª - –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –ú–∞–Ω—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞, –±–ª–∏–∑–∏ –ø–µ—â–µ—Ä—ã ¬´–ë–æ–ª—å—à–∞—è –û—Ä–µ—à–Ω–∞—è¬ª, –≥–¥–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —É—á–∞—Ç—Å—è –æ—Å–Ω–æ–≤–∞–º –∂–∏–∑–Ω–∏ –≤ –ø–æ—Ö–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö, –±–µ—Ä–µ–∂–Ω–æ–º—É –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –ø—Ä–∏—Ä–æ–¥–µ, —Ö–æ–¥—è—Ç –≤ –ø–æ—Ö–æ–¥—ã –∏ –∏—Å—Å–ª–µ–¥—É—é—Ç –ø–µ—â–µ—Ä—ã.' . "\n\n" .
            '¬´<b>–ü—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫</b>¬ª - –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –ë–∏—Ä—é—Å–∏–Ω—Å–∫–æ–≥–æ –∑–∞–ª–∏–≤–∞, –∏ —è–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–æ—â–∞–¥–∫–æ–π –¥–ª—è –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—â–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã–π –∏ –ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–¥—ã—Ö.' . "\n\n" .            
            '¬´<b>–Æ–Ω—ã–π –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫</b>¬ª - –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–∞ –±–∞–∑–µ –æ—Ç–¥—ã—Ö–∞ ¬´–ß–∞–π–∫–∞¬ª, –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø–∞—Ä–∫–µ ¬´–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–µ –°—Ç–æ–ª–±—ã¬ª, –¢–æ—Ä–≥–∞—à–∏–Ω—Å–∫–æ–º —Ö—Ä–µ–±—Ç–µ. –û—Ç—Å—é–¥–∞ —Ä–µ–±—è—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–¥–Ω–æ–¥–Ω–µ–≤–Ω—ã–µ –∏ —Ç—Ä–µ—Ö–¥–Ω–µ–≤–Ω—ã–µ –ø–æ—Ö–æ–¥—ã.' . "\n" . '–í –ø—Ä–æ–≥—Ä–∞–º–º–µ –∫–∞–∂–¥–æ–π —Å–º–µ–Ω—ã: –∑–∞–Ω—è—Ç–∏—è –ø–æ —Å–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏—é, —Ç—É—Ä–∏–∑–º—É, —Å–ø–µ–ª–µ–æ–ª–æ–≥–∏–∏, –∫—Ä–∞–µ–≤–µ–¥—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã, —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ, –≤—Å—Ç—Ä–µ—á–∏ —Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –ª—é–¥—å–º–∏, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è.'  . "\n\n" .
            '¬´<b>–†–æ–∑–∞ –í–µ—Ç—Ä–æ–≤</b>¬ª - –æ—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è ¬´–†–æ–∑–∞ –≤–µ—Ç—Ä–æ–≤¬ª - —ç—Ç–æ –µ–∂–µ–≥–æ–¥–Ω–∞—è —Å–º–µ–Ω–∞ –º–µ—Å—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è. –í 2023 –≥–æ–¥—É —Å–º–µ–Ω–∞ –ø—Ä–æ–π–¥–µ—Ç –≤ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø–∞—Ä–∫–µ ¬´–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–µ –°—Ç–æ–ª–±—ã¬ª. –û—Ç–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–µ–ª—è—Ç—Å—è –Ω–µ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç, –∞ –ø–æ —Ä–æ–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–º —Ä–µ–±—è—Ç–∞ –±—É–¥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è ‚Äì —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ, —Ö—É–¥–æ–∂–Ω–∏–∫–∏, —ç–∫—Å–∫—É—Ä—Å–æ–≤–æ–¥—ã, –∫—Ä–∞–µ–≤–µ–¥—ã –∏ —Ç.–¥. –†–µ–±—ë–Ω–æ–∫ —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –≤ –∫–∞–∫–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ö–æ—á–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è, –∏ –≤—ã–±–∏—Ä–∞–µ—Ç, —Ç–æ, —á—Ç–æ –µ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ.' . "\n\n\n" ,
            'parse_mode' => 'HTML',
            'reply_markup' => [
                'resize_keyboard' => true,
                'inline_keyboard' => [
                    [
                        ['text' => '–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ª–∞–≥–µ—Ä—è—Ö üåê', 'url' => 'https://vk.com/leto_cp']
                    ]         
                ],
            ]
        ];
        break;

    case '—Å—Å—ã–ª–∫–∏':
        $method = 'sendMessage';
        $send_data = [
            'text'   => '–®–∫–æ–ª–∞ –ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤: https://vk.com/shi_cp' . "\n" . '–¶–µ–Ω—Ç—Ä –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤: https://vk.com/krascp' . "\n" . '–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –•–∞–π–∫–∏–Ω–≥: https://vk.com/krashiking' . "\n" . '–õ–µ—Ç–Ω–∏–µ –ª–∞–≥–µ—Ä—è: https://vk.com/leto_cp'
        ];
        break;

    case '–ª–µ—Ç–Ω–∏–µ —Å–º–µ–Ω—ã 2023':
        $method = 'sendPhoto';
        $send_data = [
            'photo' => 'https://persik-krsk.ru/photo/ls.jpg',
            'caption' => '–ü–æ–¥—Ä–æ–±–Ω–æ: https://vk.com/krascp?w=wall-9557103_18440'
        ];
        break;

    case '–º–∞—Ç–µ—Ä–∏–∞–ª—ã —à–∏':
        $method = 'sendMessage';
        $send_data = [
            'text' => '<a href=\'https://drive.google.com/drive/folders/1W2GfH53X37Apr561EPHLJ0fBmV70RmD6?usp=share_link\'>üíä –ê–ø—Ç–µ—á–∫–∞</a>' . "\n\n" .
            '<a href=\'https://drive.google.com/drive/folders/1CsxMf9QzZKnHPDB99PMYDFdsjsXHm_gZ?usp=share_link\'>üì¢ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –ø–æ—Ö–æ–¥–µ.' . "\n" . '–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –ß–ü</a>' . "\n\n" .
            '<a href=\'https://drive.google.com/drive/folders/1sCILugAHPnWP8vWAQyjgeSJaJSuOP8Yw?usp=share_link\'>üó∫ –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a>' . "\n\n" .
            '<a href=\'https://drive.google.com/drive/folders/1l0-CG_EX14f9MU2WJaX-YPzX_dWvVRN2?usp=share_link\'>‚õë –ü–ú–ü</a>' . "\n\n" .
            '<a href=\'https://drive.google.com/drive/folders/1N27vY4SR5Wn2vt69tm9KnKd9chpxJTq4?usp=share_link\'>ü§ï –î–µ—Å–º—É—Ä–≥–∏—è</a>' . "\n\n" .
            '<a href=\'https://drive.google.com/drive/folders/1W_iB4TnQEfSJ1E3OnOltti8DUQTGnjoK?usp=share_link\'>üçΩ –ü–∏—Ç–∞–Ω–∏–µ –≤ –ø–æ—Ö–æ–¥–µ</a>' . "\n\n" .
            '<a href=\'https://drive.google.com/drive/folders/17eNrJqqCTzjELk7qn0zJ9BmC-0Eqzyf0?usp=share_link\'>üé≤ –°–æ–∑–¥–∞–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤</a>' . "\n\n" .
            '<a href=\'https://drive.google.com/drive/folders/1moYMQxOnkRgmpAa1NjIlNky6ndB6O_to?usp=share_link\'>üß≥ –°–±–æ—Ä —Ä—é–∫–∑–∞–∫–∞</a>',
            'parse_mode' => 'HTML',
            'reply_markup' => [
                'resize_keyboard' => true,
                'inline_keyboard' => [
                    [
                        ['text' => '–í—Å–µ –ª–µ–∫—Ü–∏–∏ üåê', 'url' => 'https://drive.google.com/drive/folders/1ZzHQmL7PfT58u_wsm3zskMvpyKwP5e5F']
                    ]         
                ],
            ]
        ];
        break;


    default:
        $method = 'sendMessage';
        $send_data = [
            'text' => $arr[0]
        ];
}

# –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$send_data['chat_id'] = $data['chat']['id'];

$res = sendTelegram($method, $send_data);

function sendTelegram($method, $data, $headers = [])
{
    $curl = curl_init();
    curl_setopt_array($curl, [
        CURLOPT_POST => 1,
        CURLOPT_HEADER => 0,
        CURLOPT_RETURNTRANSFER => 1,
        CURLOPT_URL => 'https://api.telegram.org/bot' . TOKEN . '/' . $method,
        CURLOPT_POSTFIELDS => json_encode($data),
        CURLOPT_HTTPHEADER => array_merge(array("Content-Type: application/json"), $headers)
    ]);   
    
    $result = curl_exec($curl);
    curl_close($curl);
    return (json_decode($result, 1) ? json_decode($result, 1) : $result);
}

?>